<!--

    Copyright (c) 2011, salesforce.com, inc.
    All rights reserved.

    Redistribution and use in source and binary forms, with or without modification, are permitted provided
    that the following conditions are met:

       Redistributions of source code must retain the above copyright notice, this list of conditions and the
       following disclaimer.

       Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
       the following disclaimer in the documentation and/or other materials provided with the distribution.

       Neither the name of salesforce.com, inc. nor the names of its contributors may be used to endorse or
       promote products derived from this software without specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED
    WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
    PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
    ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
    TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
    HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Database.com Java SDK - Standard JPA Annotations</title>
	<link type="text/css" rel="stylesheet" href="stylesheets/docs.css" media="screen" />
	<link type="text/css" rel="stylesheet" href="stylesheets/header.css" media="screen" />
	<link type="text/css" rel="stylesheet" href="stylesheets/coderay.css" media="screen" />
</head>
<body>

  <div id="force-header"> 
    <h1><a href="force-sdk-overview.html">Database.com Java SDK</a></h1>
  </div>
<div id="bodywrap">
	<div id="docsnav">
    <!--

    Copyright (c) 2011, salesforce.com, inc.
    All rights reserved.

    Redistribution and use in source and binary forms, with or without modification, are permitted provided
    that the following conditions are met:

       Redistributions of source code must retain the above copyright notice, this list of conditions and the
       following disclaimer.

       Redistributions in binary form must reproduce the above copyright notice, this list of conditions and
       the following disclaimer in the documentation and/or other materials provided with the distribution.

       Neither the name of salesforce.com, inc. nor the names of its contributors may be used to endorse or
       promote products derived from this software without specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED
    WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
    PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
    ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
    TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
    HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    POSSIBILITY OF SUCH DAMAGE.

-->

<ul> <li> <h3>Getting started</h3> <ul> 

<li><a href="force-sdk-overview">Introduction</a></li>

 <li><a href="quick-start">Quick Start</a></li>

 <li><a href="sts">SpringSource Tool Suite</a></li>

 <li><a href="java-database-terminology">Database.com Terminology</a></li>

 </ul> </li>

 <li> <h3>Persistence</h3> <ul> 
 
 <li><a href="jpa-provider">JPA Provider Overview</a></li>

 <li><a href="jpa-config-persistence">Configuration</a></li>

 <li><a href="jpa-annotations-standard">Standard JPA Annotations</a></li>

 <li><a href="jpa-annotations-custom">Custom Database.com Annotations</a></li>

 <li><a href="jpa-cud">Creating, Updating, and Deleting Data</a></li>

 <li><a href="jpa-transactions">Transactions</a></li>
  
 <li><a href="jpa-queries">Querying with JPQL</a></li>

 <li><a href="jpa-queries-soql">Querying with SOQL</a></li>

 <li><a href="database-com-datatypes">Database.com Data Types</a></li>

 <li><a href="java-db-com-datatypes-map">Java to Database.com Data Types</a></li>

 <li><a href="jpa-spec-support">JPA 2.0 Specification Support</a></li>

 </ul> </li>

 <li> <h3>Authentication</h3> <ul> 
 
 <li><a href="oauth-auth">OAuth Authentication</a></li>

 <li><a href="spring-security">Spring Security Plugin</a></li>

 <li><a href="retrieve-user-data">Retrieving User Data</a></li>

 </ul> </li>

 <li> <h3>Reference</h3> <ul>

 <li><a href="apidocs">Javadoc</a></li>

 </ul> </li>

 <li> <h3>Low-level Connector</h3> <ul> <li><a href="connection-url">Connection Configuration</a></li>

 <li><a href="native-api">Native API Clients</a></li>

 </ul> </li>

 </ul>
 
<!--
	topic 'quick-start',        'Quick Start Guide'
	topic 'sts',                'SpringSource Tool Suite'
	topic 'java-force-terminology', 'Force.com Terminology'
end

section 'persistence', "Persistence" do
	topic 'jpa-provider',             'JPA Provider Overview'
	topic 'jpa-config-persistence',   'Configuration'
	topic 'jpa-annotations-standard', 'Standard JPA Annotations'
	topic 'jpa-annotations-custom',   'Custom Force.com Annotations'
	topic 'jpa-cud',                  'Creating, Updating, and Deleting Data'
	topic 'jpa-queries',              'Querying with JPQL'
	topic 'jpa-queries-soql',         'Querying with SOQL'
	topic 'force-datatypes',          'Force.com Data Types'
	topic 'java-force-datatypes-map', 'Java to Force.com Data Types'
	topic 'jpa-spec-support',         'JPA 2.0 Specification Support'
end

section 'authentication', "Authentication" do
	topic 'oauth-auth'  ,       'OAuth Authentication'
	topic 'spring-security',    'Spring Security Plugin'
	topic 'retrieve-user-data',    'Retrieving User Data'
end

section 'connector', "Low-level Connector" do
	topic 'connection-url',     'Connection Configuration'
  topic 'native-api',         'Native API Clients'
end

-->

	</div>

	<div id="content">
		<div class="topic_content">
      <h1>Standard JPA Annotations</h1>

<p>JPA annotations enable you to define how the JPA provider persists your Java class.</p>

<p><strong>Note</strong>: You can associate an annotation with each field or the getter method for the field. You must be consistent
within a class by using one approach or the other. If you add one annotation to a field and another to a getter method,
an error occurs. We recommend that you annotate the field instead of the getter method.</p>

<p>The <a href="http://jcp.org/aboutJava/communityprocess/final/jsr317/index.html">JPA 2.0 specification (JSR 317)</a> lists all standard JPA annotations. <a href="jpa-spec-support">JPA 2.0 Specification Support</a> lists the areas of the JPA 2.0 specification that are supported by the Database.com JPA provider and how Database.com differs from the standard JPA specification.</p>

<p>Some common standard JPA annotations are:</p>

<h2>@Entity</h2>

<p>Marks a Java class as persistent. Each Java class must include an <code>@Entity</code> annotation.</p>

<p>When you start up your application, each class that's annotated with <code>@Entity</code> is loaded and synchronized with Database.com. For more details, see <a href="jpa-config-persistence#schemaProps">schema creation</a> and <a href="jpa-config-persistence#schemaDeleteProps">schema deletion</a> properties.</p>

<p>For sample syntax for standard and custom entities, see <a href="#TableAnnotation">@Table</a>.</p>

<p>The optional name attribute in <code>@Entity</code> specifies the entity name. If the name attribute is not specified, the entity
name defaults to the unqualified name of the entity class. If the name attribute is specified, you use the name to refer to the entity in <a href="jpa-queries">JPQL queries</a>.</p>

<p><strong>Note</strong>: The value for the name attribute in <code>@Entity</code> doesn't have to match the value for the name attribute in <code>@Table</code>.</p>

<p><a name="basicAnnotation"> </a></p>

<h2>@Basic</h2>

<p>Explicitly declares a field in a class as persistent. To make a field in a class persistent, its type must either be one that is persisted by default or you must explicitly declare it as persistent by using the <code>@Basic</code> annotation. The <a href="http://www.datanucleus.org/products/accessplatform/jpa/types.html">DataNucleus
documentation</a> lists a table of common Java data types and indicates whether each is persisted by default.</p>

<h2>@GeneratedValue</h2>

<p>Indicates that the identity value is generated by the database. This is mostly used for primary keys. Only the <code>GenerationType.IDENTITY</code> strategy is supported.</p>

<h2>@Id</h2>

<p>Marks a field to use for the identity (primary key) of the class. Database.com entities always have a primary key. The Database.com JPA provider doesn't support all JPA standard primary types. For more information, see <a href="jpa-provider#primaryKeys">Primary Keys</a>.</p>

<p><a name="TableAnnotation"> </a></p>

<h2>@Table</h2>

<p>Specifies an existing Database.com entity (object) name. The name attribute in <code>@Table</code> must match the underlying Database.com type; for example, User or MyCustomObject__c.</p>

<p>This is a sample for a standard User entity:</p>

<pre><code>@Entity
@Table(name="User")
public class User {
    ...
}
</code></pre>

<p><strong>Note</strong>: If you omit the @Table(name="User") annotation, the User class maps to a custom User__c entity instead of the standard User entity.</p>

<p>This is a sample for a custom MyCustomObject__c entity:</p>

<pre><code>@Entity
@Table(name="MyCustomObject__c")
public class MyCustomObject {
    ...    
}
</code></pre>

<h2>@Version</h2>

<p>Defines a field as holding the version for the class.</p>

<p>If you are using optimistic concurrency, you must include a lastModifiedDate field in your entity as follows:</p>

<pre><code>@Version
private java.util.Calendar lastModifiedDate;
</code></pre>

<p>For information on usage of the <code>@ManyToOne</code> and <code>@OneToMany</code> annotations, see <a href="database-com-datatypes#relFields">Relationship Fields</a>.</p>

<h2>Required and Unique Fields</h2>

<p>Use the <code>@Column</code> standard annotation to mark fields as required or unique.</p>

<h3>Required Fields</h3>

<p>Use a <code>@Column(nullable = false)</code> annotation to mark a field as required.</p>

<h3>Unique Fields</h3>

<p>Use a <code>@Column(unique = true)</code> annotation to mark a field as unique. We recommend that you mark unique fields
to be required too.</p>

<p><strong>Note</strong>: The <code>@UniqueConstraint</code> annotation is not supported.</p>

<h2>Sample Class Using Standard Annotations</h2>

<p>The following sample Java class uses standard JPA annotations.</p>

<pre><code>import java.util.Date;
import javax.persistence.*;

@Entity
public class Student
{
    @Id
    @GeneratedValue(strategy=GenerationType.IDENTITY)
    String id;

    @Basic
    // Explicitly marked as persistent. This is not necessary as String
    // fields are persisted by default
    private String firstName;

    // No annotation but String fields are persisted by default
    private String lastName;

    // No annotation but String fields are persisted by default
    private String email;

    // No annotation but Date fields are persisted by default
    private Date dateOfBirth;

    // getters and setters
    public String getId() {
        return id;

    public String getFirstName() {
        return firstName;
    } 
    public void setFirstName(String firstName) {
        this.firstName = firstName;
    } 

    public String getLastName() {
        return lastName;
    } 
    public void setLastName(String lastName) {
        this.lastName = lastName;
    } 

    public String getEmail() {
        return email;
    } 
    public void setEmail(String email) {
        this.email = email;
    } 

    public Date getDateOfBirth() {
        return dateOfBirth;
    } 
    public void setDateOfBirth(Date dateOfBirth) {
        this.dateOfBirth = dateOfBirth;
    } 

}
</code></pre>

		</div>
	</div>
</div>
</body>
</html>
