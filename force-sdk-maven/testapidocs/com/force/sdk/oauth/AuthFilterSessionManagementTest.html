<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Wed Jun 01 09:55:39 PDT 2011 -->
<TITLE>
AuthFilterSessionManagementTest
</TITLE>

<META NAME="date" CONTENT="2011-06-01">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AuthFilterSessionManagementTest";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/force/sdk/oauth/AuthFilterCookieManagementTest.html" title="class in com.force.sdk.oauth"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html" title="class in com.force.sdk.oauth"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/force/sdk/oauth/AuthFilterSessionManagementTest.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AuthFilterSessionManagementTest.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_classes_inherited_from_class_com.force.sdk.oauth.BaseMockedPartnerConnectionTest">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.force.sdk.oauth</FONT>
<BR>
Class AuthFilterSessionManagementTest</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html" title="class in com.force.sdk.oauth">com.force.sdk.oauth.BaseOAuthTest</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html" title="class in com.force.sdk.oauth">com.force.sdk.oauth.BaseMockedPartnerConnectionTest</A>
          <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.force.sdk.oauth.AuthFilterSessionManagementTest</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>AuthFilterSessionManagementTest</B><DT>extends <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html" title="class in com.force.sdk.oauth">BaseMockedPartnerConnectionTest</A></DL>
</PRE>

<P>
This class tests the session management of the AuthFilter. All tests assume that a user has already authenticated via
 OAuth so this state is initialized ahead of time. With each test we are simulating whether you have a session with
 your security context on the server you hit or not. Also whether the data in that security context may be stale.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_com.force.sdk.oauth.BaseMockedPartnerConnectionTest"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from class com.force.sdk.oauth.<A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html" title="class in com.force.sdk.oauth">BaseMockedPartnerConnectionTest</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.MockConnector.html" title="class in com.force.sdk.oauth">BaseMockedPartnerConnectionTest.MockConnector</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.MockQueryPartnerConnection.html" title="class in com.force.sdk.oauth">BaseMockedPartnerConnectionTest.MockQueryPartnerConnection</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/force/sdk/oauth/AuthFilterSessionManagementTest.html#SECURITY_CONTEXT_TO_VERIFY_KEY">SECURITY_CONTEXT_TO_VERIFY_KEY</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.force.sdk.oauth.BaseMockedPartnerConnectionTest"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class com.force.sdk.oauth.<A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html" title="class in com.force.sdk.oauth">BaseMockedPartnerConnectionTest</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#CONSUMER_KEY">CONSUMER_KEY</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#CONSUMER_SECRET">CONSUMER_SECRET</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#INVALID_SFDC_SID">INVALID_SFDC_SID</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#ORIGINAL_ORG_ID">ORIGINAL_ORG_ID</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#ORIGINAL_USER_ID">ORIGINAL_USER_ID</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#ORIGINAL_USER_LANGUAGE">ORIGINAL_USER_LANGUAGE</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#ORIGINAL_USER_LOCALE">ORIGINAL_USER_LOCALE</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#ORIGINAL_USER_NAME">ORIGINAL_USER_NAME</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#ORIGINAL_USER_TIMEZONE">ORIGINAL_USER_TIMEZONE</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#originalSc">originalSc</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#PARTNER_CONN_ORG_ID">PARTNER_CONN_ORG_ID</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#PARTNER_CONN_USER_ID">PARTNER_CONN_USER_ID</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#PARTNER_CONN_USER_LANGUAGE">PARTNER_CONN_USER_LANGUAGE</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#PARTNER_CONN_USER_LOCALE">PARTNER_CONN_USER_LOCALE</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#PARTNER_CONN_USER_NAME">PARTNER_CONN_USER_NAME</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#PARTNER_CONN_USER_TIMEZONE">PARTNER_CONN_USER_TIMEZONE</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#partnerSc">partnerSc</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#VALID_SFDC_ENDPOINT">VALID_SFDC_ENDPOINT</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#VALID_SFDC_INSTANCEURL">VALID_SFDC_INSTANCEURL</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#VALID_SFDC_SID">VALID_SFDC_SID</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.force.sdk.oauth.BaseOAuthTest"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class com.force.sdk.oauth.<A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html" title="class in com.force.sdk.oauth">BaseOAuthTest</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html#endpoint">endpoint</A>, <A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html#oauthCallback">oauthCallback</A>, <A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html#oauthKey">oauthKey</A>, <A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html#oauthSecret">oauthSecret</A>, <A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html#refreshToken">refreshToken</A>, <A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html#userInfo">userInfo</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/force/sdk/oauth/AuthFilterSessionManagementTest.html#AuthFilterSessionManagementTest()">AuthFilterSessionManagementTest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/force/sdk/oauth/AuthFilterSessionManagementTest.html#init()">init</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/force/sdk/oauth/AuthFilterSessionManagementTest.html#testInvalidSessionException()">testInvalidSessionException</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User appears to be authenticated, but when the API is used a sessioned timed out exception gets thrown.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/force/sdk/oauth/AuthFilterSessionManagementTest.html#testInvalidSFDCSessionId()">testInvalidSFDCSessionId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User is authenticated and they visit an instance that has their java session, but the sfdc session id in the
 Security Context doesn't match the one in their cookie (stale data).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/force/sdk/oauth/AuthFilterSessionManagementTest.html#testNoDataInSession()">testNoDataInSession</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User is authenticated and they visit an instance that does not have their Java session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/force/sdk/oauth/AuthFilterSessionManagementTest.html#testValidSessionData()">testValidSessionData</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;User is authenticated and they visit an instance that has their java session.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.force.sdk.oauth.BaseMockedPartnerConnectionTest"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.force.sdk.oauth.<A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html" title="class in com.force.sdk.oauth">BaseMockedPartnerConnectionTest</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#afterClass()">afterClass</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#assertSecurityContextsAreEqual(com.force.sdk.oauth.context.SecurityContext, com.force.sdk.oauth.context.SecurityContext, java.lang.String)">assertSecurityContextsAreEqual</A>, <A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html#beforeClass()">beforeClass</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.force.sdk.oauth.BaseOAuthTest"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.force.sdk.oauth.<A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html" title="class in com.force.sdk.oauth">BaseOAuthTest</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html#classSetUp()">classSetUp</A>, <A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html#createConnectionUrl()">createConnectionUrl</A>, <A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html#verifySecurityContext(com.force.sdk.oauth.context.SecurityContext)">verifySecurityContext</A>, <A HREF="../../../../com/force/sdk/oauth/BaseOAuthTest.html#verifySecurityContext(com.force.sdk.oauth.context.SecurityContext, boolean, boolean)">verifySecurityContext</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SECURITY_CONTEXT_TO_VERIFY_KEY"><!-- --></A><H3>
SECURITY_CONTEXT_TO_VERIFY_KEY</H3>
<PRE>
public static final java.lang.String <B>SECURITY_CONTEXT_TO_VERIFY_KEY</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.force.sdk.oauth.AuthFilterSessionManagementTest.SECURITY_CONTEXT_TO_VERIFY_KEY">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AuthFilterSessionManagementTest()"><!-- --></A><H3>
AuthFilterSessionManagementTest</H3>
<PRE>
public <B>AuthFilterSessionManagementTest</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="init()"><!-- --></A><H3>
init</H3>
<PRE>
public void <B>init</B>()
          throws javax.servlet.ServletException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="testValidSessionData()"><!-- --></A><H3>
testValidSessionData</H3>
<PRE>
public void <B>testValidSessionData</B>()
                          throws javax.servlet.ServletException,
                                 java.io.IOException</PRE>
<DL>
<DD>User is authenticated and they visit an instance that has their java session. Here we set up a request that has
 the sfdc sid and endpoint cookies. A security context is also put into the session. We test that the context in
 the session at the end is the same as what we started with. there should be no call to the partner api.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="testInvalidSessionException()"><!-- --></A><H3>
testInvalidSessionException</H3>
<PRE>
public void <B>testInvalidSessionException</B>()
                                 throws javax.servlet.ServletException,
                                        java.io.IOException</PRE>
<DL>
<DD>User appears to be authenticated, but when the API is used a sessioned timed out exception gets thrown. This
 causes a session renewal to be attempted which should result in an redirect to the OAuth authentication URL.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="testInvalidSFDCSessionId()"><!-- --></A><H3>
testInvalidSFDCSessionId</H3>
<PRE>
public void <B>testInvalidSFDCSessionId</B>()
                              throws javax.servlet.ServletException,
                                     java.io.IOException</PRE>
<DL>
<DD>User is authenticated and they visit an instance that has their java session, but the sfdc session id in the
 Security Context doesn't match the one in their cookie (stale data). Here we set up a request that has the sfdc
 sid and endpoint cookies. A security context is also put into the session, but it has a different session id in
 it. This simulates stale data in the session. We test that the context in the session at the end came from the
 partner api because we expect a call to refresh the data.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="testNoDataInSession()"><!-- --></A><H3>
testNoDataInSession</H3>
<PRE>
public void <B>testNoDataInSession</B>()
                         throws javax.servlet.ServletException,
                                java.io.IOException</PRE>
<DL>
<DD>User is authenticated and they visit an instance that does not have their Java session. Here we set up a request
 that has the sfdc sid and endpoint cookies. No security context is put into the session to simulate hitting an
 instance that you don't have a session with. We test that the context in the session at the end came from the
 partner api because we expect a call to get the data.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/force/sdk/oauth/AuthFilterCookieManagementTest.html" title="class in com.force.sdk.oauth"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/force/sdk/oauth/BaseMockedPartnerConnectionTest.html" title="class in com.force.sdk.oauth"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/force/sdk/oauth/AuthFilterSessionManagementTest.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AuthFilterSessionManagementTest.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_classes_inherited_from_class_com.force.sdk.oauth.BaseMockedPartnerConnectionTest">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
