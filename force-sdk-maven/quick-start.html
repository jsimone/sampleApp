<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Jesper - Quick Start Guide</title>
	<link type="text/css" rel="stylesheet" href="/stylesheets/docs.css" media="screen" />
	<link type="text/css" rel="stylesheet" href="/stylesheets/header.css" media="screen" />
	<link type="text/css" rel="stylesheet" href="/stylesheets/coderay.css" media="screen" />
</head>
<body>

  <div id="header"> 
    Jesper's Stuff Liquid error: undefined method `keys' for #<Liquid::Context:0x0000000344f930>
  </div>
<div id="bodywrap">
	<div id="docsnav">
    <ul> <li> <h3>Getting started</h3> <ul> <li><a href="force-sdk-overview.html">Intro</a></li>

 <li><a href="quick-start">Quick Start Guide</a></li>

 <li><a href="sts">SpringSource Tool Suite</a></li>

 <li><a href="/java-force-terminology">Force.com Terminology</a></li>

 </ul> </li>

 <li> <h3>Persistence</h3> <ul> <li><a href="/jpa-provider">JPA Provider Overview</a></li>

 <li><a href="/jpa-config-persistence">Configuration</a></li>

 <li><a href="/jpa-annotations-standard">Standard JPA Annotations</a></li>

 <li><a href="/jpa-annotations-custom">Custom Force.com Annotations</a></li>

 <li><a href="/jpa-cud">Creating, Updating, and Deleting Data</a></li>

 <li><a href="/jpa-queries">Querying with JPQL</a></li>

 <li><a href="/jpa-queries-soql">Querying with SOQL</a></li>

 <li><a href="/force-datatypes">Force.com Data Types</a></li>

 <li><a href="/java-force-datatypes-map">Java to Force.com Data Types</a></li>

 <li><a href="/jpa-spec-support">JPA 2.0 Specification Support</a></li>

 </ul> </li>

 <li> <h3>Authentication</h3> <ul> <li><a href="/oauth-auth">OAuth Authentication</a></li>

 <li><a href="/spring-security">Spring Security Plugin</a></li>

 <li><a href="/retrieve-user-data">Retrieving User Data</a></li>

 </ul> </li>

 <li> <h3>Low-level Connector</h3> <ul> <li><a href="/connection-url">Connection Configuration</a></li>

 <li><a href="/native-api">Native API Clients</a></li>

 </ul> </li>

 </ul>
 
<!--
	topic 'quick-start',        'Quick Start Guide'
	topic 'sts',                'SpringSource Tool Suite'
	topic 'java-force-terminology', 'Force.com Terminology'
end

section 'persistence', "Persistence" do
	topic 'jpa-provider',             'JPA Provider Overview'
	topic 'jpa-config-persistence',   'Configuration'
	topic 'jpa-annotations-standard', 'Standard JPA Annotations'
	topic 'jpa-annotations-custom',   'Custom Force.com Annotations'
	topic 'jpa-cud',                  'Creating, Updating, and Deleting Data'
	topic 'jpa-queries',              'Querying with JPQL'
	topic 'jpa-queries-soql',         'Querying with SOQL'
	topic 'force-datatypes',          'Force.com Data Types'
	topic 'java-force-datatypes-map', 'Java to Force.com Data Types'
	topic 'jpa-spec-support',         'JPA 2.0 Specification Support'
end

section 'authentication', "Authentication" do
	topic 'oauth-auth'  ,       'OAuth Authentication'
	topic 'spring-security',    'Spring Security Plugin'
	topic 'retrieve-user-data',    'Retrieving User Data'
end

section 'connector', "Low-level Connector" do
	topic 'connection-url',     'Connection Configuration'
  topic 'native-api',         'Native API Clients'
end

-->

	</div>

	<div id="content">
		<div class="topic_content">
      <h1 id='quick_start_guide'>Quick Start Guide</h1>

<p>This guide will walk you through creating a brand new Spring MVC application (from a template) that defines a simple JPA entity stored in Force.com. You can use this template as a starting point for your own web</p>

<h2 id='prerequisites'>Prerequisites</h2>

<ul>
<li>Username, password and <a href='https://help.salesforce.com/apex/HTViewHelpDoc?id=user_security_token.htm&amp;language=en'>security token</a> for a <a href='http://www.developerforce.com/events/regular/registration.php?d=70130000000EjHb'>Force.com Developer Edition account</a> or other system administrator account on a Salesforce organization.</li>

<li><a href='http://maven.apache.org/download.html'>A recent version of Maven 2</a> like 2.2.1. Maven 3 has not yet been tested with the Force.com Java SDK.</li>

<li><a href='http://www.oracle.com/technetwork/java/javase/downloads/index.html'>A recent JDK 1.6</a>, like 1.6.0_24</li>
</ul>

<h3 id='a_word_about_maven_before_you_get_started'>A word about Maven before you get started</h3>

<p>Many of the commands in this quick start trigger downloads of additional Maven dependencies. If you have never used Maven before or if you are going through this quick start on a new machine or with a new user account, this can be slow initially. However, once the modules are downloaded, they are cached in a local repository and subsequent commands execute quicker.</p>

<h2 id='1_install_cliforce_command_line_tool'>1. Install cliforce command line tool</h2>

<p>cliforce is an extensible command-line tool that you can use for a variety of tasks when developing and managing Java applications. Download the executable jar from:</p>

<p><a href='http://media.developerforce.com/download/cliforce-0.0.4-SNAPSHOT.jar'>http://media.developerforce.com/download/cliforce-0.0.4-SNAPSHOT.jar</a></p>

<p>and save it as <code>cliforce.jar</code>. Execute cliforce from the command line by running:</p>

<pre><code>$ java -jar cliforce.jar</code></pre>

<p>We recommend that you create a script for ease of execution.</p>

<h3 id='linux'>Linux</h3>

<p>If you&#8217;re using bash, save the jar in <code>$HOME/bin</code>, and put the following line in a script file in <code>$HOME/bin/cliforce</code>:</p>

<pre><code>java -Xmx512M -jar `dirname $0`/cliforce.jar &quot;$@&quot;</code></pre>

<p>Make the script executable by running:</p>

<pre><code>chmod u+x $HOME/bin/cliforce</code></pre>

<h3 id='windows'>Windows</h3>

<p>Create a cliforce.bat file containing the following:</p>

<pre><code>set SCRIPT_DIR=%~dp0
java -Xmx512M -jar &quot;%SCRIPT_DIR%cliforce.jar&quot; %*</code></pre>

<h2 id='2_create_an_application_and_run_it'>2. Create an application and run it</h2>

<p>You can use cliforce to quickly create a new application project. For example, if you want to create a project called &#8220;hellocloud&#8221; you run:</p>

<pre><code>$ cliforce template:create hellocloud</code></pre>

<p>This will create a new <code>hellocloud</code> directory with a basic Spring MVC application project structure. Once the command completes, you can build it using maven:</p>

<pre><code>$ cd hellocloud
$ mvn package</code></pre>

<p>This will build the project and run tests (if there are any). Now you can start a Tomcat server running the hellocloud application:</p>

<pre><code>$ mvn tomcat:run</code></pre>

<p>And go to <a href='http://localhost:8080/hellocloud'>http://localhost:8080/hellocloud</a> where you should see a welcome screen. Donâ€™t click the <strong>New Entity</strong> link yet. You need to go through the next step to make it work.</p>

<h2 id='3_enable_jpa_persistence'>3. Enable JPA persistence</h2>

<p>The application is based on a template that doesn&#8217;t do much by default. It has a predefined JPA entity called <code>MyEntity</code> but the <code>@Entity</code> annotation is commented out. To see JPA in action, uncomment the <code>@Entity</code> annotation in <code>src/main/java/com/vmforce/hellocloud/model/MyEntity.java</code>:</p>

<pre><code>//@Entity  &lt;----- Uncomment this line
public class MyEntity {

    @Id
    @GeneratedValue(strategy=GenerationType.IDENTITY)
    private String id;

    private String name;
	  
    [...]
}</code></pre>

<p>and run</p>

<pre><code>$ mvn package</code></pre>

<p>to rebuild it. As part of this build, the MyEntity class will be automatically enhanced so it can properly act as a JPA entity. You will also need to tell your application how to connect to Force.com. The template project specifies a persistence unit called &#8220;forceDatabase&#8221;. You can set up a connection URL for this persistence unit using cliforce:</p>

<pre><code>$ cliforce connection:add
connection name: forceDatabase
user: scott@acme.com
password: ********
security token: VXoAIbgYSMOhSEVtcGxgt4mRP
Connection: forceDatabase added</code></pre>

<p>Replace the sample values above with your own username, password and security token. You can configure as many connection URLs as you want. They are all stored in <code>$HOME/.force/cliforce_urls</code>. The JPA provider will look in this file for a property named &#8220;forceDatabase&#8221; and use this value as connection URL for the forceDatabase persistence unit. When you deploy your application to a remote server, the same information will be read from an environment variable.</p>

<p>Now restart Tomcat by running:</p>

<pre><code>mvn tomcat:run</code></pre>

<p>During Tomcat startup, the Force.com JPA provider automatically connects to the database and creates a new entity (an sObject in Force.com terminology) called MyEntity.</p>

<p>In your browser, navigate to <a href='http://localhost:8080/hellocloud'>http://localhost:8080/hellocloud</a>. You can click on <strong>New Entity</strong> and create a new record in the Force.com database.</p>

<h2 id='4_next_steps'>4. Next Steps</h2>

<p>The Force.com SDK is not tied to any particular runtime. You can now proceed to deploy the application on your own server, Cloud Foundry, EC2 or other cloud runtimes as long as you can make HTTPS connections to Force.com.</p>

<p>If you want to take a look at an application that is built out a little bit more, you can look at the &#8220;Music Library&#8221; application here: <a href='https://github.com/forcedotcom/musiclib'>https://github.com/forcedotcom/musiclib</a>. You can clone this project with</p>

<pre><code>$ git clone git://github.com/forcedotcom/musiclib.git</code></pre>

<p>Build and run it:</p>

<pre><code>$ mvn package &amp;&amp; mvn tomcat:run</code></pre>

<p>And visit it at <a href='http://localhost:8080/musiclib'>http://localhost:8080/musiclib</a>. It will pick up the same connection parameters that you already set up and create entities in the same Force.com org.</p>

<p>Happy coding.</p>
		</div>
	</div>
</div>
</body>
</html>
